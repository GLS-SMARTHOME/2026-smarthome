<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>AC Control</title>

<style>
:root {
    --cold: #00d1ff;
    --heat: #ff6b3d;
    --glass: rgba(255,255,255,0.12);
}

* { -webkit-tap-highlight-color: transparent; }

body {
    margin: 0;
    height: 100vh;
    background: radial-gradient(circle at top, #1a1a1a, #000);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    color: white;
}

.back {
    position: fixed;
    top: calc(env(safe-area-inset-top) + 30px);
    left: 14px;
    background: var(--glass);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,.18);
    color: #fff;
    padding: 10px 14px;
    border-radius: 14px;
    font-size: 14px;
    cursor: pointer;
    z-index: 100;
}

.top-label {
    position: fixed;
    top: calc(env(safe-area-inset-top) + 40px);
    right: 14px;
    font-size: 14px;
    font-weight: 500;
    color: #fff;
    z-index: 100;
}


.card {
    width: 90vw;
    max-width: 360px;
    padding: 28px;
    border-radius: 32px;
    background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.05));
    backdrop-filter: blur(30px);
    box-shadow: 0 0 60px rgba(0,0,0,.7);
    text-align: center;
    transition: box-shadow .4s;
}

.card.cold { box-shadow: 0 0 40px rgba(0,209,255,.5); }
.card.heat { box-shadow: 0 0 40px rgba(255,107,61,.5); }

.temp {
    font-size: 72px;
    font-weight: 300;
    margin-bottom: 14px;
    transition: transform .15s;
}

svg {
    width: 100%;
    max-width: 280px;
    height: 170px;
    touch-action: none;
}

.track {
    stroke: rgba(255,255,255,.25);
    stroke-width: 14;
    fill: none;
}

.progress {
    stroke-width: 14;
    fill: none;
    stroke-linecap: round;
    filter: drop-shadow(0 0 10px currentColor);
}

.knob {
    fill: white;
    filter: drop-shadow(0 0 6px rgba(0,0,0,.6));
}

.modes {
    display: flex;
    gap: 14px;
    margin-top: 26px;
}

.mode {
    flex: 1;
    padding: 8px 0;
    border-radius: 18px;
    background: rgba(255,255,255,.12);
    font-size: 14px;
    cursor: pointer;
    transition: transform .15s, background .3s;
}

.mode:active { transform: scale(.95); }

.mode.active {
    background: rgba(255,255,255,.28);
}
</style>
</head>

<body>
<button class="back" onclick="location.href='https://congopokemon.store/2026-smarthome/home'">
    ‚Üê Back
</button>
<div class="top-label" id="topLabel">
    Living Room
</div>


<div id="card" class="card cold">
    <div id="temp" class="temp">24¬∞</div>

    <svg id="slider" viewBox="0 0 260 160">
        <path class="track" d="M30 140 A100 100 0 0 1 230 140"/>
        <path id="progress" class="progress"/>
        <circle id="knob" class="knob" r="14"/>
    </svg>

    <div class="modes">
        <div id="cold" class="mode active">‚ùÑÔ∏è Cold</div>
        <div id="heat" class="mode">üî• Heat</div>
    </div>
</div>

<script>
const MIN = 16, MAX = 30;
let temp = 24;
let mode = 'cold';

const tempEl = document.getElementById('temp');
const progress = document.getElementById('progress');
const knob = document.getElementById('knob');
const card = document.getElementById('card');
const slider = document.getElementById('slider');

function polar(cx, cy, r, a) {
    let rad = (a - 180) * Math.PI / 180;
    return { x: cx + r * Math.cos(rad), y: cy + r * Math.sin(rad) };
}

function update() {
    tempEl.textContent = temp + '¬∞';
    tempEl.style.transform = 'scale(1.08)';
    setTimeout(() => tempEl.style.transform = 'scale(1)', 120);

    let t = (temp - MIN) / (MAX - MIN);
    let ang = 180 * t;

    let s = polar(130,140,100,0);
    let e = polar(130,140,100,ang);

    progress.setAttribute('d', `M ${s.x} ${s.y} A 100 100 0 0 1 ${e.x} ${e.y}`);
    knob.setAttribute('cx', e.x);
    knob.setAttribute('cy', e.y);

    progress.style.stroke = mode === 'cold' ? 'var(--cold)' : 'var(--heat)';
    card.className = 'card ' + mode;
}

update();

slider.addEventListener('pointerdown', e => slider.setPointerCapture(e.pointerId));
slider.addEventListener('pointermove', e => {
    if (!e.buttons) return;
    let r = slider.getBoundingClientRect();
    let x = e.clientX - r.left - 130;
    let y = e.clientY - r.top - 140;
    let a = Math.atan2(y, x) * 180 / Math.PI + 180;
    a = Math.max(0, Math.min(180, a));
    temp = Math.round(MIN + (a / 180) * (MAX - MIN));
    update();
});

cold.onclick = () => {
    mode = 'cold';
    cold.classList.add('active');
    heat.classList.remove('active');
    update();
};

heat.onclick = () => {
    mode = 'heat';
    heat.classList.add('active');
    cold.classList.remove('active');
    update();
};
</script>

</body>
</html>
